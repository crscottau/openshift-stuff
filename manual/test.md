Node Changes
The definition and configuration of the RHCOS virtual machines that are the OpenShift nodes on each node are managed by the OpenShift Machine Config Operator (MCO) and administrators typically do not need to configure the operating system. Where any changes to the node configuration are required, such as updating the time synchronisation servers, configuration is managed by the OpenShift MCO and that change is defined in YAML or JSON configuration files as a MachineConfig. An administrator creates a MachineConfig configuration file in GitLab which is applied to the cluster(s) by OpenShift GitOps.
If a change is made to a node’s configuration directly, the MCO detects this change and notifies the administrators of an unexpected difference in the configuration by raising an alert in the OpenShift console.
An example of applying node configuration is the NTP configuration for the cluster which is managed through the chrony daemon. The configuration is applied from a MachineConfig CRD that defines the chrony configuration file and is managed in GitLab. The control plane manages the translation of the configuration from the MachineConfig manifest into the /etc/chrony.conf file on each of the nodes.
Cluster Configuration Changes
Changes to cluster configuration are managed by the control plane and defined in YAML or JSON configuration files maintained in the external SCCM.
Changes can be applied to the cluster using the OpenShift GitOps component. OpenShift GitOps monitors the SCCM and ensures that any applications are applied to the cluster and that the running configuration matches what is defined in the SCCM.
The OpenShift GitOps “application of applications” is an application that references a location in the source code repository that holds the YAML configuration of the other OpenShift GitOps applications that perform the cluster configuration.
 
Figure 19: OpenShift GitOps Applications
OpenShift GitOps will continue to monitor the source code repository following installation and will apply any changes to the configuration that are committed in that repository. Any new configuration can be applied by creating another OpenShift GitOps application and committing it to the source code repository. OpenShift GitOps will also monitor the runtime configuration and can re-apply configuration that differs from the source code repository to ensure there is no configuration drift.
Some of the hub and workload cluster configuration is applied by ACM Governance Policies. Governance Policies are a method of scanning and enforcing standards or configuration on OpenShift clusters. Policies use their own custom resource definitions managed in GitLab to describe desired state and whether to inform or enforce the desired state via a policy remediation action. Governance Policies are applied to clusters based on placement rules, if a new cluster is deployed that matches a placement rule, the relevant policies will be automatically applied.
The ACM deployment currently uses ACM policies for 4 purposes:
1.	Apply the ACIC trusted root CA certificate to all of the clusters,
2.	Configure the time servers for time synchronisation in all of the clusters,
3.	Apply encryption to the Kubernetes etcd dataset in all clusters,
4.	Backup the ACM resources on the primary hub cluster and restore those resources on the standby cluster to facilitate ACM failover.
