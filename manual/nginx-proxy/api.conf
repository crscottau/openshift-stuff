server {
  listen        8080;
  server_name   _;

  location / {
    proxy_http_version 1.1;
    proxy_ssl_name api.openshift.com;
    proxy_ssl_server_name on;
    proxy_pass https://api.openshift.com;
    
    # Proxy buffer settings for large responses
    proxy_buffering on;
    proxy_buffer_size 64k;
    proxy_buffers 8 64k;
    proxy_busy_buffers_size 128k;
    proxy_temp_file_write_size 128k;
    proxy_max_temp_file_size 1024m;
    
    # Connection and timeout settings
    proxy_connect_timeout 60s;
    proxy_send_timeout 60s;
    proxy_read_timeout 60s;
    proxy_set_header Connection "";
    proxy_set_header Host "api.openshift.com";
  }

  access_log /var/log/nginx/api.log;
  error_log /var/log/nginx/api.log debug;
}